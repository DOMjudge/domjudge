{% extends "public/base.html.twig" %}

{% block title %}News{% endblock %}
{% block content %}
    <div class="container">
        <h1>News</h1>
        {% for post in posts %}
            {% set link = path('public_blog_post', { 'slug':post.slug }) %}
            <div class="d-flex flex-column align-items-start align-items-md-start flex-md-row">
                <a href="{{ link }}" class="align-self-center align-self-md-start blog-post-thumbnail">
                    <img src="{{ asset('media/images/' ~ post.thumbnailFileName) }}"
                         alt="{{ post.title }}"
                         class="blog-post-thumbnail">
                </a>
                <div class="flex-grow-1 mt-1 ml-md-4">
                    <h2><a class="text-body"
                           href="{{ link }}">{{ post.title }}</a></h2>
                    <p class="text-muted">
                        {% if post.author %}{{ post.author }} - {% endif %}{{ post.publishtime|date }}
                    </p>
                    <p>{{ post.subtitle }}</p>
                    <a href="{{ link }}" class="btn btn-primary">Číst dál</a>
                </div>
            </div>
            <hr>
        {% endfor %}

        <nav>
            <ul class="pagination justify-content-center">
                <li class="page-item{% if page < 2 %} disabled{% endif %}">
                    <a class="page-link" href="{{ path('public_blog_list', {'page': page - 1}) }}">Previous</a>
                </li>

                {% if page >= 2 %}
                    <li class="page-item">
                        <a class="page-link" href="{{ path('public_blog_list', {'page': page - 1}) }}">
                            {{ page - 1 }}
                        </a>
                    </li>
                {% endif %}

                <li class="page-item active"><a class="page-link" href="#">{{ page }}</a></li>

                {% if page < totalPages %}
                    <li class="page-item">
                        <a class="page-link" href="{{ path('public_blog_list', {'page': page + 1}) }}">
                            {{ page + 1 }}
                        </a>
                    </li>
                {% endif %}

                <li class="page-item {% if page >= totalPages %} disabled{% endif %}">
                    <a class="page-link" href="{{ path('public_blog_list', {'page': page + 1}) }}">Next</a>
                </li>
            </ul>
        </nav>
    </div>
{% endblock %}
